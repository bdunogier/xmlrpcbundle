parameters:
    bdxmlrpc.event_listener.request.class: BD\Bundle\XmlRpcBundle\EventListener\RequestEventListener
    bdxmlrpc.event_listener.response.class: BD\Bundle\XmlRpcBundle\EventListener\ResponseEventListener
    bdxmlrpc.request_parser.class: BD\Bundle\XmlRpcBundle\XmlRpc\RequestParser
    bdxmlrpc.request_generator.class: BD\Bundle\XmlRpcBundle\XmlRpc\RequestGenerator
    bdxmlrpc.response_generator.class: BD\Bundle\XmlRpcBundle\XmlRpc\ResponseGenerator

services:
    bdxmlrpc.event_listener.request:
        class: %bdxmlrpc.event_listener.request.class%
        arguments:
            - @http_kernel
            - @router
            - @bdxmlrpc.request_generator
            - @?logger
        tags:
            - { name: kernel.event_subscriber }
            - { name: monolog.logger, channel: xmlrpc }

    bdxmlrpc.event_listener.response:
        class: %bdxmlrpc.event_listener.response.class%
        arguments: [ @bdxmlrpc.response_generator, @?logger ]
        tags:
            - { name: kernel.event_subscriber }
            - { name: monolog.logger, channel: xmlrpc }

    bdxmlrpc.request_parser:
        class: %bdxmlrpc.request_parser.class%

    bdxmlrpc.request_generator:
        class: %bdxmlrpc.request_generator.class%
        arguments:
            - @bdxmlrpc.request_parser

    bdxmlrpc.response_generator:
        class: %bdxmlrpc.response_generator.class%

    bdxmlrpc.controller.hello:
        class: BD\Bundle\XmlRpcBundle\Controller\Hello
        calls:
            - [ setContainer, [ @service_container ] ]